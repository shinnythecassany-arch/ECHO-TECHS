<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Predict With Your Score!</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: #0f172a;
    color: #e5e7eb;
    text-align: center;
    padding-top: 50px;
    transition: background 0.5s ease; /* For smooth glow transition */
}
body.glow {
    background: radial-gradient(circle, #5B2CA5 0%, #0f172a 70%);
    animation: pulse 2s infinite; /* Subtle pulsing glow */
}
@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
}
h1 { color: #f9fafb; }
input[type="number"] {
    padding: 10px;
    font-size: 16px;
    width: 120px;
    background: #020617;
    color: #e5e7eb;
    border: 1px solid #1f2933;
    border-radius: 6px;
}
input::placeholder { color: #9ca3af; }
button {
    padding: 10px 15px;
    font-size: 16px;
    cursor: pointer;
    margin: 5px;
    background: #5B2CA5;
    color: #ffffff;
    border: none;
    border-radius: 6px;
    transition: background 0.2s ease;
}
button:hover:not(:disabled) { background: #4a2280; }
button:disabled {
    background: #374151;
    opacity: 0.6;
    cursor: not-allowed;
}
#result { margin-top: 20px; font-size: 20px; color: #e5e7eb; }
#specialMsg { 
    margin-top: 20px; 
    font-size: 24px; 
    color: #f9fafb; 
    font-weight: bold; 
    display: none; 
    text-shadow: 0 0 10px #5B2CA5; /* Subtle text glow */
}
img {
    margin: 20px auto 0 auto;
    width: 250px;
    display: none;
    border-radius: 10px;
}
.disclaimer {
    margin-top: 25px;
    font-size: 14px;
    color: #9ca3af;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
}
.buttons { margin-top: 20px; }
label { cursor: pointer; }
input[type="checkbox"] { accent-color: #5B2CA5; }
#errorMsg { color: #ef4444; font-size: 16px; margin-top: 10px; display: none; }
</style>
</head>
<body>

<h1>Predict With Your Score!</h1>

<input type="number" id="scoreInput" placeholder="0 - 50" min="0" max="50">
<button id="submitBtn" disabled onclick="calculateScore()">Submit</button>

<div id="result"></div>
<div id="specialMsg"></div>
<div id="errorMsg"></div>

<img id="gif" alt="Score Result GIF" onerror="showError()">

<div class="disclaimer">
    <p><strong>Disclaimer:</strong> AI Prediction may not be 100% accurate. This shows possible outcomes.</p>
    <label><input type="checkbox" id="acceptCheck" onchange="toggleButtons()"> I Accept</label>
</div>

<div class="buttons">
    <button disabled id="btn1">After 10 Years</button>
    <button disabled id="btn2">After 20 Years</button>
    <button disabled id="btn3">After 30 Years</button>
    <button disabled id="btn4">After 50 Years</button>
</div>

<script>
const gif = document.getElementById("gif");
const errorMsg = document.getElementById("errorMsg");
const specialMsg = document.getElementById("specialMsg");
const body = document.body;

// 24 GIFs: 6 score ranges x 4 timeskips
const GIFS = {
    "41-50": {
        btn1: "GIFS/SAVED_AND_PRESERVED/SAVED_AND_PRESERVED_10_YEARS.webp",
        btn2: "GIFS/SAVED_AND_PRESERVED/SAVED_AND_PRESERVED_20_YEARS.webp",
        btn3: "GIFS/SAVED_AND_PRESERVED/SAVED_AND_PRESERVED_30_YEARS.webp",
        btn4: "GIFS/SAVED_AND_PRESERVED/SAVED_AND_PRESERVED_50_YEARS.webp"
    },
    "31-40": {
        btn1: "GIFS/VERY_HEALTHY/VERY_HEALTHY_10_YEARS.webp",
        btn2: "GIFS/VERY_HEALTHY/VERY_HEALTHY_20_YEARS.webp",
        btn3: "GIFS/VERY_HEALTHY/VERY_HEALTHY_30_YEARS.webp",
        btn4: "GIFS/VERY_HEALTHY/VERY_HEALTHY_50_YEARS.webp"
    },
    "21-30": {
        btn1: "GIFS/HEALTHY/HEALTHY_10_YEARS.webp",
        btn2: "GIFS/HEALTHY/HEALTHY_20_YEARS.webp",
        btn3: "GIFS/HEALTHY/HEALTHY_30_YEARS.webp",
        btn4: "GIFS/HEALTHY/HEALTHY_50_YEARS.webp"
    },
    "10-20": {
        btn1: "GIFS/SURVIVING/SURVIVING_10_YEARS.webp",
        btn2: "GIFS/SURVIVING/SURVIVING_20_YEARS.webp",
        btn3: "GIFS/SURVIVING/SURVIVING_30_YEARS.webp",
        btn4: "GIFS/SURVIVING/SURVIVING_50_YEARS.webp"
    },
    "1-9": {
        btn1: "GIFS/DAMAGED/DAMAGED_10_YEARS.webp",
        btn2: "GIFS/DAMAGED/DAMAGED_20_YEARS.webp",
        btn3: "GIFS/DAMAGED/DAMAGED_30_YEARS.webp",
        btn4: "GIFS/DAMAGED/DAMAGED_50_YEARS.webp"
    },
    "0": {
        btn1: "GIFS/CRITICALLY_DAMAGED/CRITICALLY_DAMAGED_10_YEARS.webp",
        btn2: "GIFS/CRITICALLY_DAMAGED/CRITICALLY_DAMAGED_20_YEARS.webp",
        btn3: "GIFS/CRITICALLY_DAMAGED/CRITICALLY_DAMAGED_30_YEARS.webp",
        btn4: "GIFS/CRITICALLY_DAMAGED/CRITICALLY_DAMAGED_50_YEARS.webp"
    }
};

let currentRange = "";

function calculateScore() {
    const scoreInput = document.getElementById("scoreInput");
    const score = Number(scoreInput.value.trim());
    const result = document.getElementById("result");

    // Hide previous elements
    errorMsg.style.display = "none";
    gif.style.display = "none";
    specialMsg.style.display = "none";
    body.classList.remove("glow");

    if (scoreInput.value.trim() === "" || score < 0 || score > 50 || isNaN(score)) {
        result.textContent = "Please enter a valid score between 0 and 50.";
        currentRange = "";
        return;
    }

    if (score >= 41) currentRange = "41-50";
    else if (score >= 31) currentRange = "31-40";
    else if (score >= 21) currentRange = "21-30";
    else if (score >= 10) currentRange = "10-20";
    else if (score >= 1) currentRange = "1-9";
    else currentRange = "0";

    // Special case for score 50
    if (score === 50) {
        result.textContent = ""; // Clear default result
        specialMsg.textContent = "It's saved and preserved for another thousand years!";
        specialMsg.style.display = "block";
        body.classList.add("glow");
        // Remove glow after 5 seconds for a timed effect
        setTimeout(() => {
            body.classList.remove("glow");
        }, 5000);
        return; // Skip normal image display
    }

    result.textContent = "Your score: " + score;
    gif.src = GIFS[currentRange]["btn1"];
    console.log("Loading image:", gif.src);
    gif.style.display = "block";
}

function toggleButtons() {
    const accepted = document.getElementById("acceptCheck").checked;
    document.getElementById("submitBtn").disabled = !accepted;
    for (let i = 1; i <= 4; i++) {
        document.getElementById("btn" + i).disabled = !accepted;
    }
}

function showError() {
    errorMsg.textContent = "Failed to load image. Check file paths or try refreshing.";
    errorMsg.style.display = "block";
    gif.style.display = "none";
}

for (let i = 1; i <= 4; i++) {
    document.getElementById("btn" + i).addEventListener("click", () => {
        if (!currentRange) return;
        gif.src = GIFS[currentRange]["btn" + i];
        console.log("Switching to:", gif.src);
        gif.style.display = "block";
    });
}
</script>

</body>
</html>
